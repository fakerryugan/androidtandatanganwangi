# Ini adalah tes pertama, ekuivalen dengan testWidgets pertama Anda.
description: Login seharusnya gagal dengan kredensial salah dan menampilkan dialog error
---
# Menunggu aplikasi loading, ekuivalen dengan:
# await tester.pumpAndSettle(const Duration(seconds: 5));
# DIUBAH: '5s' (String) menjadi 5000 (int)
- wait: 5000

# Mengetuk tombol login awal
# await tester.tap(find.byKey(const Key('login_button_awal')));
- pressOn:
    finder: byKey('login_button_awal')

# Masukkan kredensial yang salah
# await tester.enterText(..., 'username_salah');
- inputText:
    text: 'username_salah'
    finder: byKey('username_field')

# await tester.enterText(..., 'password_salah');
- inputText:
    text: 'password_salah'
    finder: byKey('password_field')

# Mengetuk tombol masuk
# await tester.tap(find.byKey(const Key('login_button_masuk')));
- pressOn:
    finder: byKey('login_button_masuk')

# Menunggu dialog muncul
# await tester.pumpAndSettle(const Duration(seconds: 3));
# DIUBAH: '3s' (String) menjadi 3000 (int)
- wait: 3000

# Verifikasi dialog error muncul
# expect(find.text('Login Gagal'), findsOneWidget);
- expectVisible:
    finder: byText('Login Gagal')

# Menutup dialog
# await tester.tap(find.byKey(const Key('okkk')));
- pressOn:
    finder: byKey('okkk')

# Verifikasi dialog telah tertutup
# expect(find.byType(Dialog), findsNothing);
# (Verifikasi dengan teks lebih baik)
- expectNotVisible:
    finder: byText('Login Gagal')

---

# Ini adalah tes kedua, ekuivalen dengan testWidgets kedua Anda.
description: Login seharusnya berhasil dengan kredensial yang valid dan navigasi ke home
---
# Menunggu aplikasi loading
# DIUBAH: '5s' (String) menjadi 5000 (int)
- wait: 5000

# Mengetuk tombol login awal
- pressOn:
    finder: byKey('login_button_awal')

# Masukkan kredensial yang valid
- inputText:
    text: '362358302012'
    finder: byKey('username_field')
- inputText:
    text: 'Poliwangi123'
    finder: byKey('password_field')

# Mengetuk tombol masuk
- pressOn:
    finder: byKey('login_button_masuk')

# Menunggu navigasi ke dashboard
# await tester.pumpAndSettle(const Duration(seconds: 5));
# DIUBAH: '5s' (String) menjadi 5000 (int)
- wait: 5000

# Verifikasi kita ada di dashboard
# 1. Pastikan field username (dari halaman login) sudah HILANG
# expect(find.byKey(const Key('username_field')), findsNothing);
- expectNotVisible:
    finder: byKey('username_field')

# 2. Pastikan scaffold dashboard (dari halaman dashboard) SUDAH MUNCUL
# expect(find.byKey(const Key('dashboard_page_scaffold')), findsOneWidget);
- expectVisible:
    finder: byKey('dashboard_page_scaffold')